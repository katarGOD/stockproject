(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["b69af92c"],{"0977":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("q-card",[a("q-card-main",[a("q-field",{attrs:{label:e.$t("ID"),"label-width":e.labelWidth}},[a("q-input",{attrs:{disable:""},model:{value:e.inputForm[".key"],callback:function(t){e.$set(e.inputForm,".key",t)},expression:"inputForm['.key']"}})],1),a("q-field",{attrs:{label:e.$t("Employee ID")+" *","label-width":e.labelWidth,error:e.$v.inputForm.employeeid.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-input",{attrs:{disable:!e.hasPermission(["personnel--employee-management--update"])},on:{blur:function(t){e.$v.inputForm.employeeid.$touch()}},model:{value:e.inputForm.employeeid,callback:function(t){e.$set(e.inputForm,"employeeid",t)},expression:"inputForm.employeeid"}})],1),a("q-field",{attrs:{label:e.$t("Join date")+" *","label-width":e.labelWidth,error:e.$v.inputForm.joinDate.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-datetime",{attrs:{type:"date",disable:!e.hasPermission(["personnel--employee-management--update"])},on:{blur:function(t){e.$v.inputForm.joinDate.$touch()}},model:{value:e.inputForm.joinDate,callback:function(t){e.$set(e.inputForm,"joinDate",t)},expression:"inputForm.joinDate"}})],1),a("q-field",{attrs:{label:e.$t("Employment status")+" *","label-width":e.labelWidth,error:e.$v.inputForm.employmentStatus.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-select",{attrs:{disable:!e.hasPermission(["personnel--employee-management--update"]),options:e.employmentStatusOptions},model:{value:e.inputForm.employmentStatus,callback:function(t){e.$set(e.inputForm,"employmentStatus",t)},expression:"inputForm.employmentStatus"}})],1),a("q-field",{attrs:{label:e.$t("Employee pay type")+" *","label-width":e.labelWidth,error:e.$v.inputForm.employeePayType.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-select",{attrs:{disable:!e.hasPermission(["personnel--employee-management--update"]),options:e.PayTypeOptions},model:{value:e.inputForm.employeePayType,callback:function(t){e.$set(e.inputForm,"employeePayType",t)},expression:"inputForm.employeePayType"}})],1),a("q-field",{attrs:{label:e.$t("Ordinary Wage")+" *","label-width":e.labelWidth,error:e.$v.inputForm.wage.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-input",{attrs:{type:"number",disable:!e.hasPermission(["personnel--employee-management--update"]),error:e.$v.inputForm.wage.$error,"error-label":e.$t("Requires non-empty data")},model:{value:e.inputForm.wage,callback:function(t){e.$set(e.inputForm,"wage",t)},expression:"inputForm.wage"}})],1),a("q-field",{attrs:{label:e.additionalWageLabel("additionalWage1","101")+" *","label-width":e.labelWidth,error:e.$v.inputForm.additionalWage1.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-input",{attrs:{type:"number",disable:!e.hasPermission(["personnel--employee-management--update"]),error:e.$v.inputForm.additionalWage1.$error,"error-label":e.$t("Requires non-empty data")},model:{value:e.inputForm.additionalWage1,callback:function(t){e.$set(e.inputForm,"additionalWage1",t)},expression:"inputForm.additionalWage1"}})],1),a("q-field",{attrs:{label:e.additionalWageLabel("additionalWage2","102")+" *","label-width":e.labelWidth,error:e.$v.inputForm.additionalWage2.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-input",{attrs:{type:"number",disable:!e.hasPermission(["personnel--employee-management--update"]),error:e.$v.inputForm.additionalWage2.$error,"error-label":e.$t("Requires non-empty data")},model:{value:e.inputForm.additionalWage2,callback:function(t){e.$set(e.inputForm,"additionalWage2",t)},expression:"inputForm.additionalWage2"}})],1),a("q-field",{attrs:{label:e.additionalWageLabel("additionalWage3","103")+" *","label-width":e.labelWidth,error:e.$v.inputForm.additionalWage3.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-input",{attrs:{type:"number",disable:!e.hasPermission(["personnel--employee-management--update"]),error:e.$v.inputForm.additionalWage3.$error,"error-label":e.$t("Requires non-empty data")},model:{value:e.inputForm.additionalWage3,callback:function(t){e.$set(e.inputForm,"additionalWage3",t)},expression:"inputForm.additionalWage3"}})],1),a("q-field",{attrs:{label:e.$t("Income tax rate")+" *","label-width":e.labelWidth,error:e.$v.inputForm.incomeTaxRate.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-slider",{attrs:{min:0,max:20,step:1,"label-always":"","label-value":e.inputForm.incomeTaxRate+" %",markers:"",snap:""},model:{value:e.inputForm.incomeTaxRate,callback:function(t){e.$set(e.inputForm,"incomeTaxRate",t)},expression:"inputForm.incomeTaxRate"}})],1),a("q-field",{attrs:{label:e.$t("Bank account"),"label-width":e.labelWidth}},[a("q-input",{attrs:{disable:!e.hasPermission(["personnel--employee-management--update"])},model:{value:e.inputForm.bankAccount,callback:function(t){e.$set(e.inputForm,"bankAccount",t)},expression:"inputForm.bankAccount"}})],1),a("div",{staticClass:"submit"},[a("q-btn",{staticClass:"q-mr-sm",attrs:{color:"primary",icon:"save","wait-for-ripple":"",disable:e.$v.inputForm.$invalid,label:e.$t("Save")},on:{click:e.addForm}})],1)],1)],1)],1)},i=[];n._withStripped=!0;var r=a("3156"),o=a.n(r),l=(a("7514"),a("ac6a"),a("96cf"),a("c973")),u=a.n(l),s=a("2f62"),d=a("b5ae"),p=a("7e05"),m=a("fe5b"),c=a("44de"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},b=[];f._withStripped=!0;var h={data:function(){return{employmentStatusOptions:[]}},created:function(){var e=this;e.$database.collection("employmentStatus").get().then(function(t){t.forEach(function(t){e.employmentStatusOptions.push({id:t.id,data:t.data(),value:t.id,label:"".concat(t.data().status),model:!1})})})}},y=h,$=a("2877"),v=Object($["a"])(y,f,b,!1,null,null,null);v.options.__file="employmentStatusOptions.vue";var g=v.exports,F=a("7266"),q=a("05d8"),w={name:"official",mixins:[p["a"],m["a"],c["a"],g,F["a"],q["a"]],data:function(){return{formAction:"",subMenu:this.$t("Official"),inputForm:{".key":null,employeeid:"",employmentStatus:"",employeePayType:"",wage:0,additionalWage1:0,additionalWage2:0,additionalWage3:0,incomeTaxRate:0,joinDate:new Date,bankAccount:"",createdBy:this.userId,createdOn:new Date,modifiedBy:this.userId,modifiedOn:new Date,authUser:this.userId},PayTypeOptions:[{label:this.$t("Hourly"),value:"hourly"},{label:this.$t("Daily"),value:"daily"},{label:this.$t("Monthly"),value:"salary"}]}},validations:{inputForm:{employeeid:{required:d["required"]},employmentStatus:{required:d["required"]},employeePayType:{required:d["required"]},wage:{required:d["required"],numeric:d["numeric"]},additionalWage1:{required:d["required"],numeric:d["numeric"]},additionalWage2:{required:d["required"],numeric:d["numeric"]},additionalWage3:{required:d["required"],numeric:d["numeric"]},incomeTaxRate:{required:d["required"],numeric:d["numeric"]},joinDate:{required:d["required"]}}},firestore:function(){return{official:this.$database.collection("official")}},methods:{addForm:function(){var e=u()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!t.inputForm[".key"]){e.next=9;break}return t.inputForm.modifiedBy=t.userId,t.inputForm.modifiedOn=new Date,t.inputForm.authUser=t.$route.params.id,e.next=7,t.updateProcess(t.$firestore.official,t.inputForm,t.$v.inputForm);case 7:e.next=14;break;case 9:return t.inputForm.createdBy=t.inputForm.modifiedBy=t.userId,t.inputForm.createdOn=t.inputForm.modifiedOn=new Date,t.inputForm.authUser=t.$route.params.id,e.next=14,t.addProcess(t.$firestore.official,t.inputForm,t.$v.inputForm);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),openUpdateFrom:function(){var e=this;e.formAction="update",this.$q.loading.show(),e.$database.collection("official").where("authUser","==",e.$route.params.id).get().then(function(t){t.forEach(function(t){e.inputForm={".key":t.id,employeeid:t.data().employeeid,employmentStatus:t.data().employmentStatus,employeePayType:t.data().employeePayType,wage:t.data().wage,additionalWage1:t.data().additionalWage1,additionalWage2:t.data().additionalWage2,additionalWage3:t.data().additionalWage3,incomeTaxRate:t.data().incomeTaxRate,joinDate:t.data().joinDate,bankAccount:t.data().bankAccount}}),e.$q.loading.hide()})},additionalWageLabel:function(e,t){var a=this,n=e,i=a._.find(a.accountCodeOptions,{code:t});return a._.isUndefined(i)||(n=i["label"]),n}},created:function(){var e=u()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("updateSubMenu",this.subMenu),this.openUpdateFrom();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),computed:o()({},Object(s["c"])(["userId"])),watch:{}},W=w,x=(a("4056"),Object($["a"])(W,n,i,!1,null,null,null));x.options.__file="official.vue";t["default"]=x.exports},4056:function(e,t,a){"use strict";var n=a("e30f"),i=a.n(n);i.a},7266:function(e,t,a){"use strict";var n,i,r=a("3156"),o=a.n(r),l=a("2f62"),u={methods:{hasPermission:function(e){var t=this._.uniq(this.userPermission),a=this._.intersection(t,e).length;return a}},computed:o()({},Object(l["c"])(["userPermission"]))},s=u,d=a("2877"),p=Object(d["a"])(s,n,i,!1,null,null,null);p.options.__file="hasPermission.vue";t["a"]=p.exports},"7e05":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},i=[];n._withStripped=!0;a("ac6a");var r={data:function(){return{accountCodeOptions:[]}},created:function(){var e=this;e.$database.collection("accountCode").orderBy("code").get().then(function(t){t.forEach(function(t){e.accountCodeOptions.push({id:t.id,code:t.data().code,postingCategory:t.data().postingCategory,data:t.data(),value:t.id,label:"".concat(t.data().code," : ").concat(t.data().description)})})})}},o=r,l=a("2877"),u=Object(l["a"])(o,n,i,!1,null,null,null);u.options.__file="accountCodeOptions.vue";t["a"]=u.exports},e30f:function(e,t,a){},fe5b:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},i=[];n._withStripped=!0;a("96cf");var r=a("c973"),o=a.n(r),l=(a("ac6a"),a("551c"),{data:function(){return{authUserOptions:[]}},methods:{getAuthUserOptions:function(){var e=this;return new Promise(function(t){var a=e,n=[];a.$database.collection("authUser").orderBy("firstName").get().then(function(e){return e.forEach(function(e){n.push({id:e.id,data:e.data(),value:e.id,label:"".concat(e.data().firstName," ").concat(e.data().lastName),model:!1})}),t(n)}).catch(function(e){console.log(e)})})}},created:function(){var e=o()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.getAuthUserOptions();case 3:t.authUserOptions=e.sent;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),u=l,s=a("2877"),d=Object(s["a"])(u,n,i,!1,null,null,null);d.options.__file="authUserOptions.vue";t["a"]=d.exports}}]);