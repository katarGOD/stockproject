(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["75198cbb"],{"0caf":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},i=[];a._withStripped=!0;n("ac6a");var r={data:function(){return{departmentOptions:[]}},created:function(){var t=this;t.$database.collection("department").orderBy("code").get().then(function(e){e.forEach(function(e){t.departmentOptions.push({id:e.id,data:e.data(),value:e.id,label:"".concat(e.data().code," : ").concat(e.data().description),model:!1})})})}},o=r,c=n("2877"),d=Object(c["a"])(o,a,i,!1,null,null,null);d.options.__file="departmentOptions.vue";e["a"]=d.exports},"676b":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},i=[];a._withStripped=!0;n("ac6a");var r={data:function(){return{stockTypeOptions:[]}},created:function(){var t=this;t.$database.collection("stockType").orderBy("index").get().then(function(e){e.forEach(function(e){t.stockTypeOptions.push({id:e.id,data:e.data(),code:e.data().code,value:e.id,label:"".concat(e.data().code)})})})}},o=r,c=n("2877"),d=Object(c["a"])(o,a,i,!1,null,null,null);d.options.__file="stockTypeOptions.vue";e["a"]=d.exports},a62b:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},i=[];a._withStripped=!0;n("ac6a");var r={data:function(){return{productTypeOptions:[]}},created:function(){var t=this;t.$database.collection("productType").orderBy("index").get().then(function(e){e.forEach(function(e){t.productTypeOptions.push({id:e.id,data:e.data(),code:e.data().code,value:e.id,label:"".concat(e.data().code)})})})}},o=r,c=n("2877"),d=Object(c["a"])(o,a,i,!1,null,null,null);d.options.__file="productTypeOptions.vue";e["a"]=d.exports},bcb8:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{attrs:{padding:""}},[n("iframe",{staticStyle:{width:"100%",height:"800px"},attrs:{id:"pdfV"}})])},i=[];a._withStripped=!0;var r=n("3156"),o=n.n(r),c=(n("96cf"),n("c973")),d=n.n(c),u=(n("7514"),n("ac6a"),n("551c"),n("6b54"),n("f490")),s=n("e499"),l=n.n(s),p=n("2f62"),f=n("4ebb"),h=n.n(f),m=n("0caf"),v=n("da0d"),g=n("dc24"),b=n("fe5b"),_=n("cda9"),O=n("676b"),y=n("a62b");l.a.vfs=h.a.pdfMake.vfs,l.a.fonts={THSarabun:{normal:"THSarabun.ttf",bold:"THSarabun Bold.ttf",italics:"THSarabun Italic.ttf",bolditalics:"THSarabun Bold Italic.ttf"}};var w={name:"productList",mixins:[m["a"],v["a"],g["a"],b["a"],_["a"],O["a"],y["a"]],data:function(){return{finished:!1}},methods:{reportDocDefinition:function(t){var e={pageSize:"A4",pageOrientation:"landscape",defaultStyle:{font:"THSarabun"},header:function(t,e){return{columns:[{alignment:"right",margin:20,fontSize:14,text:t.toString()+" of "+e}]}},content:[t],styles:{header:{fontSize:18,bold:!0,margin:[0,0,0,0]},subheader:{fontSize:16,bold:!0,margin:[0,5,0,5]},tableHeader:{bold:!0,fontSize:13,color:"black"},alignRight:{alignment:"right"},alignRightUnderline:{alignment:"right",bold:!0}}};return e},getProductList:function(){var t=this,e=[];return new Promise(function(n){t.$database.collection("poProduct").get().then(function(a){return a.forEach(function(n){e.push({qty:n.data().qty,totalPrice:t._.find(t.productOptions,{id:n.data().product}).data.buyIn*n.data().qty,poId:n.data().poId})}),n(e)})})},getPoList:function(){var t=d()(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getProductList();case 2:return e=t.sent,t.abrupt("return",new Promise(function(t){var a=n,i=[],r=[],o=0;a.$database.collection("po").orderBy("description").get().then(function(n){return r.push([a.$t("วันเวลา"),a.$t("ผู้ทำรายการ"),a.$t("รหัสใบเสร็จ"),a.$t("จำนวน"),a.$t("ราคารวม"),a.$t("รายละเอียด"),a.$t("สถานะการอนุมัติ")]),n.forEach(function(t){var n=a._.find(a.authUserOptions,{id:t.data().createdBy}).label,i=0,c=0,d=a._.filter(e,{poId:t.id})?a._.filter(e,{poId:t.id}):[];d.length&&d.forEach(function(t){i+=t.qty,c+=t.totalPrice}),o++,r.push([{text:"".concat(u["d"].formatDate(t.data().createdOn,"DD/MM/YYYY HH:mm")),alignment:"left"},{text:"".concat(n),alignment:"left"},{text:"".concat(t.data().code),alignment:"left"},{text:"".concat(i),alignment:"left"},{text:"".concat(c.toLocaleString(void 0,{minimumFractionDigits:2})),alignment:"left"},{text:"".concat(t.data().description),alignment:"left"},{text:"".concat(t.data().approval),alignment:"left"}])}),r.push([{text:"Total Product : "+o,fontSize:16,colSpan:7,bold:!0,alignment:"right"}]),i.push({text:"".concat(a.applicationName),style:"header",alignment:"center"}),i.push({text:"รายงานสินค้าทั้งหมด",style:"header",alignment:"center"}),i.push({table:{headerRows:1,widths:["*","*","*","*","*","*","*"],body:r},layout:"headerLineOnly"}),t(i)})}));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),printReport:function(){var t=d()(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,n=[],e.$q.loading.show(),t.next=5,e.getPoList();case 5:n=t.sent,e.$q.loading.hide(),l.a.createPdf(e.reportDocDefinition(n)).getDataUrl(function(t){e.finished=!0,document.getElementById("pdfV").src=t});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getDepartmentName:function(t){var e=this,n="...";return e.departmentOptions&&e._.find(e.departmentOptions,{id:t})&&(n=e._.find(e.departmentOptions,{id:t}).data.code),n},getTeamCalendarName:function(t){var e=this,n="...";return e.teamCalendarOptions&&e._.find(e.teamCalendarOptions,{id:t})&&(n=e._.find(e.teamCalendarOptions,{id:t}).data.code),n}},created:function(){var t=d()(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.printReport();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:o()({},Object(p["c"])(["userId","applicationName","subtitle","locale"]))},x=w,$=n("2877"),S=Object($["a"])(x,a,i,!1,null,null,null);S.options.__file="poList.vue";e["default"]=S.exports},cda9:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},i=[];a._withStripped=!0;n("ac6a");var r={data:function(){return{productOptions:[]}},created:function(){var t=this;t.$database.collection("product").orderBy("index").get().then(function(e){e.forEach(function(e){t.productOptions.push({id:e.id,data:e.data(),code:e.data().code,value:e.id,label:"".concat(e.data().code," : ").concat(e.data().description)})})})}},o=r,c=n("2877"),d=Object(c["a"])(o,a,i,!1,null,null,null);d.options.__file="productOptions.vue";e["a"]=d.exports},da0d:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},i=[];a._withStripped=!0;n("ac6a");var r={data:function(){return{positionOptions:[]}},created:function(){var t=this;t.$database.collection("position").get().then(function(e){e.forEach(function(e){t.positionOptions.push({id:e.id,data:e.data(),value:e.id,label:"".concat(e.data().code," : ").concat(e.data().jobTitleEnglish),model:!1})})})}},o=r,c=n("2877"),d=Object(c["a"])(o,a,i,!1,null,null,null);d.options.__file="positionOptions.vue";e["a"]=d.exports},dc24:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},i=[];a._withStripped=!0;n("96cf");var r=n("c973"),o=n.n(r),c=(n("ac6a"),n("551c"),{data:function(){return{teamCalendarOptions:[]}},methods:{getTeamCalendarOptions:function(){var t=this;return new Promise(function(e){var n=t,a=[];n.$database.collection("teamCalendars").orderBy("code").get().then(function(t){return t.forEach(function(t){a.push({id:t.id,calendarMaster:t.data().calendarMaster,teamMembers:t.data().teamMembers,activityTypes:t.data().activityTypes,value:t.id,label:t.data().code})}),e(a)})})}},created:function(){var t=o()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.getTeamCalendarOptions();case 3:e.teamCalendarOptions=t.sent;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),d=c,u=n("2877"),s=Object(u["a"])(d,a,i,!1,null,null,null);s.options.__file="teamCalendarOptions.vue";e["a"]=s.exports},fe5b:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},i=[];a._withStripped=!0;n("96cf");var r=n("c973"),o=n.n(r),c=(n("ac6a"),n("551c"),{data:function(){return{authUserOptions:[]}},methods:{getAuthUserOptions:function(){var t=this;return new Promise(function(e){var n=t,a=[];n.$database.collection("authUser").orderBy("firstName").get().then(function(t){return t.forEach(function(t){a.push({id:t.id,data:t.data(),value:t.id,label:"".concat(t.data().firstName," ").concat(t.data().lastName),model:!1})}),e(a)}).catch(function(t){console.log(t)})})}},created:function(){var t=o()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.getAuthUserOptions();case 3:e.authUserOptions=t.sent;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),d=c,u=n("2877"),s=Object(u["a"])(d,a,i,!1,null,null,null);s.options.__file="authUserOptions.vue";e["a"]=s.exports}}]);