(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["f34a06bc"],{"0804":function(t,e,n){},"676b":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},r=[];o._withStripped=!0;n("ac6a");var i={data:function(){return{stockTypeOptions:[]}},created:function(){var t=this;t.$database.collection("stockType").orderBy("index").get().then(function(e){e.forEach(function(e){t.stockTypeOptions.push({id:e.id,data:e.data(),code:e.data().code,value:e.id,label:"".concat(e.data().code)})})})}},a=i,l=n("2877"),c=Object(l["a"])(a,o,r,!1,null,null,null);c.options.__file="stockTypeOptions.vue";e["a"]=c.exports},7266:function(t,e,n){"use strict";var o,r,i=n("3156"),a=n.n(i),l=n("2f62"),c={methods:{hasPermission:function(t){var e=this._.uniq(this.userPermission),n=this._.intersection(e,t).length;return n}},computed:a()({},Object(l["c"])(["userPermission"]))},d=c,u=n("2877"),s=Object(u["a"])(d,o,r,!1,null,null,null);s.options.__file="hasPermission.vue";e["a"]=s.exports},9261:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",[n("q-card",{staticStyle:{"margin-bottom":"5px"}},[n("q-card-title",[n("p",{staticClass:"q-headline"},[t._v(t._s(t.$t(t.$changeCase.sentenceCase(t.$options.name))))])])],1),n("q-table",{attrs:{"row-key":".key",selection:"multiple",columns:t.columns,data:t.product,filter:t.filter,loading:t.loading,pagination:t.pagination,"visible-columns":t.visibleColumns,selected:t.selected},on:{"update:pagination":function(e){t.pagination=e},"update:selected":function(e){t.selected=e}},scopedSlots:t._u([{key:"top-selection",fn:function(e){return[n("div",{staticStyle:{"padding-top":"9px","padding-bottom":"8px"}},[1==t.selected.length?n("q-btn",{staticClass:"q-mr-sm",attrs:{color:"primary",icon:"edit",round:""},on:{click:function(e){t.openUpdateFrom(t.inputForm,t.selected[0])}}}):t._e(),n("q-btn",{staticClass:"q-mr-sm",attrs:{color:"negative",delete:"",icon:"delete",round:""},on:{click:function(e){t.deleteRow()}}})],1)]}},{key:"top-left",fn:function(e){return[n("q-btn",{staticClass:"q-mr-sm",attrs:{color:"secondary",icon:"add_circle",round:""},on:{click:function(e){t.openAddFormModel(t.inputForm)}}}),n("q-search",{attrs:{"hide-underline":"",color:"secondary"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]}},{key:"top-right",fn:function(e){return[n("q-table-columns",{staticClass:"q-mr-sm",attrs:{color:"secondary",columns:t.columns},model:{value:t.visibleColumns,callback:function(e){t.visibleColumns=e},expression:"visibleColumns"}})]}},{key:"body-cell-index",fn:function(e){return n("q-td",{attrs:{props:e}},[n("span",{attrs:{small:"",color:"secondary"}},[n("q-btn",{attrs:{size:"xs",small:"",flat:"",round:"",icon:"remove"},on:{click:function(n){t.decreaseIndex(e,t.$firestore.productType)}}}),t._v("\n        "+t._s(e.value)+"\n        "),n("q-btn",{attrs:{size:"xs",small:"",flat:"",round:"",icon:"add"},on:{click:function(n){t.increaseIndex(e,t.$firestore.productType)}}})],1)])}},{key:"body-cell-code",fn:function(e){return n("q-td",{attrs:{props:e}},[n("q-btn",{attrs:{flat:"",label:e.value},on:{click:function(n){t.selected=[t._.find(t.productType,{".key":e.row[".key"]})],t.openUpdateFrom(t.inputForm,t.selected[0])}}})],1)}}])}),n("q-modal",{attrs:{maximized:"","content-css":{padding:"50px"}},model:{value:t.formModal,callback:function(e){t.formModal=e},expression:"formModal"}},[n("div",{staticClass:"row justify-center gutter-lg"},[n("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm12 col-xs-12"},[n("div",{staticClass:"q-headline"},[t._v(t._s(t.$t(t.$changeCase.sentenceCase(t.$options.name))))]),n("div",{staticClass:"q-subheading"},[t._v(t._s(t.subHeading))]),n("br"),n("br"),n("br"),t.addProductCheck?n("div",[n("q-list-header",[t._v(t._s(t.$t("Add Product")))]),n("q-field",{attrs:{label:t.$t("Product type")+" *","label-width":t.labelWidth,error:t.$v.productForm.productType.$error,"error-label":t.$t("Requires non-empty data")}},[n("q-select",{attrs:{options:t.productTypeOptions},on:{blur:function(e){t.$v.productForm.productType.$touch()}},model:{value:t.productForm.productType,callback:function(e){t.$set(t.productForm,"productType",e)},expression:"productForm.productType"}})],1),n("q-field",{attrs:{label:t.$t("Product")+" *","label-width":t.labelWidth,error:t.$v.productForm.product.$error,"error-label":t.$t("Requires non-empty data")}},[n("q-select",{attrs:{options:t.productOptions},on:{blur:function(e){t.$v.productForm.product.$touch()}},model:{value:t.productForm.product,callback:function(e){t.$set(t.productForm,"product",e)},expression:"productForm.product"}})],1),n("q-field",{attrs:{label:t.$t("Qty")+" *","label-width":t.labelWidth,error:t.$v.productForm.qty.$error,"error-label":(t.$v.productForm.qty.required?"":t.$t("Requires non-empty data"))+" "+(t.$v.productForm.qty.numeric?"":t.$t("onlyNumerics"))}},[n("q-input",{attrs:{type:"number",disable:"approval"===t.productForm.approval},on:{blur:function(e){t.$v.productForm.qty.$touch()}},model:{value:t.productForm.qty,callback:function(e){t.$set(t.productForm,"qty",e)},expression:"productForm.qty"}})],1),n("div",{staticClass:"submit"},[n("q-btn",{staticClass:"q-mr-sm",attrs:{color:"primary",icon:"save","wait-for-ripple":"",disable:t.$v.productForm.$invalid,label:t.$t("Save")},on:{click:t.addProductForm}})],1)],1):t._e()]),n("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm12 col-xs-12"},[n("q-field",{attrs:{label:t.$t("ID"),"label-width":t.labelWidth}},[n("q-input",{attrs:{disable:""},model:{value:t.inputForm[".key"],callback:function(e){t.$set(t.inputForm,".key",e)},expression:"inputForm['.key']"}})],1),n("q-field",{attrs:{label:t.$t("Index")+" *","label-width":t.labelWidth,error:t.$v.inputForm.index.$error,"error-label":(t.$v.inputForm.index.required?"":t.$t("Requires non-empty data"))+" "+(t.$v.inputForm.index.numeric?"":t.$t("onlyNumerics"))}},[n("q-input",{attrs:{type:"number"},on:{blur:function(e){t.$v.inputForm.index.$touch()}},model:{value:t.inputForm.index,callback:function(e){t.$set(t.inputForm,"index",e)},expression:"inputForm.index"}})],1),n("q-field",{attrs:{label:t.$t("Code")+" *","label-width":t.labelWidth,error:t.$v.inputForm.code.$error,"error-label":""+(t.$v.inputForm.code.required?"":t.$t("Requires non-empty data"))}},[n("q-input",{on:{blur:function(e){t.$v.inputForm.code.$touch()}},model:{value:t.inputForm.code,callback:function(e){t.$set(t.inputForm,"code",e)},expression:"inputForm.code"}})],1),n("q-field",{attrs:{label:t.$t("Stock Type")+" *","label-width":t.labelWidth,error:t.$v.inputForm.stockType.$error,"error-label":t.$t("Requires non-empty data")}},[n("q-select",{attrs:{options:t.stockTypeOptions},on:{blur:function(e){t.$v.inputForm.stockType.$touch()}},model:{value:t.inputForm.stockType,callback:function(e){t.$set(t.inputForm,"stockType",e)},expression:"inputForm.stockType"}})],1),n("q-field",{attrs:{label:t.$t("Supplier")+" *","label-width":t.labelWidth,error:t.$v.inputForm.supplier.$error,"error-label":t.$t("Requires non-empty data")}},[n("q-select",{attrs:{options:t.supplierOptions},on:{blur:function(e){t.$v.inputForm.supplier.$touch()}},model:{value:t.inputForm.supplier,callback:function(e){t.$set(t.inputForm,"supplier",e)},expression:"inputForm.supplier"}})],1),n("q-field",{attrs:{label:t.$t("Description"),"label-width":t.labelWidth}},[n("q-input",{model:{value:t.inputForm.description,callback:function(e){t.$set(t.inputForm,"description",e)},expression:"inputForm.description"}})],1),n("q-table",{attrs:{"row-key":".key",selection:"none",columns:t.columnsProduct,data:t.poProductTable,filter:t.filterProduct,loading:t.loading,pagination:t.pagination,"visible-columns":t.visibleColumnsProduct},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(e){return[t.addProductCheck?n("div",[n("q-btn",{staticClass:"q-mr-sm",attrs:{color:"red","wait-for-ripple":"",label:t.$t("Hidden")},on:{click:t.hideProduct}})],1):n("div",[n("q-btn",{staticClass:"q-mr-sm",attrs:{color:"primary","wait-for-ripple":"",label:t.$t("Add Product")},on:{click:t.addProduct}})],1)]}},{key:"body-cell-index",fn:function(e){return n("q-td",{attrs:{props:e}},[n("span",{attrs:{small:"",color:"secondary"}},[t._v("\n            "+t._s(e.row.__index)+"\n          ")])])}},{key:"body-cell-product",fn:function(e){return n("q-td",{attrs:{props:e}},[n("span",{attrs:{small:"",color:"secondary"}},[t._v("\n            "+t._s(t._.find(t.productOptions,{id:e.row.product}).label)+"\n          ")])])}},{key:"body-cell-productType",fn:function(e){return n("q-td",{attrs:{props:e}},[n("span",{attrs:{small:"",color:"secondary"}},[t._v("\n            "+t._s(t._.find(t.productTypeOptions,{id:e.row.productType}).label)+"\n          ")])])}},{key:"body-cell-price",fn:function(e){return n("q-td",{attrs:{props:e}},[n("span",{attrs:{small:"",color:"secondary"}},[t._v("\n            "+t._s(t._.find(t.productOptions,{id:e.row.product}).data.buyIn)+"\n          ")])])}},{key:"body-cell-action",fn:function(e){return n("q-td",{attrs:{props:e}},[n("span",{attrs:{small:"",color:"secondary"}},[n("q-btn",{attrs:{size:"xs",color:"red",round:"",icon:"remove"},on:{click:function(n){t.removeRow(e)}}})],1)])}},{key:"body-cell-code",fn:function(e){return n("q-td",{attrs:{props:e}},[n("q-btn",{attrs:{flat:"",label:e.value},on:{click:function(n){t.selected=[t._.find(t.productType,{".key":e.row[".key"]})],t.openUpdateFrom(t.inputForm,t.selected[0])}}})],1)}}])}),n("q-field",{attrs:{label:t.$t("Approval status"),"label-width":t.labelWidth}},[n("q-btn-toggle",{attrs:{"toggle-color":"primary",disable:!t.hasPermission(["admin"]),options:[{label:t.$t("Approved"),value:"approval"},{label:t.$t("Waiting for approval"),value:"waiting"}]},model:{value:t.inputForm.approval,callback:function(e){t.$set(t.inputForm,"approval",e)},expression:"inputForm.approval"}})],1),n("div",{staticClass:"submit"},["add"===t.formAction?n("q-btn",{staticClass:"q-mr-sm",attrs:{color:"primary",icon:"save","wait-for-ripple":"",disable:t.$v.inputForm.$invalid,label:t.$t("Save")},on:{click:t.addForm}}):t._e(),"update"===t.formAction?n("q-btn",{staticClass:"q-mr-sm",attrs:{color:"green",icon:"print","wait-for-ripple":"",disable:t.$v.inputForm.$invalid,label:t.$t("Print")},on:{click:t.printReport}}):t._e(),"update"===t.formAction?n("q-btn",{staticClass:"q-mr-sm",attrs:{color:"primary",icon:"save","wait-for-ripple":"",disable:t.$v.inputForm.$invalid,label:t.$t("Save")},on:{click:t.updateForm}}):t._e(),n("q-btn",{staticClass:"q-mr-sm",attrs:{color:"light",icon:"cancel","wait-for-ripple":"",label:t.$t("Cancel")},on:{click:function(e){t.formModal=!1}}})],1)],1)])])],1)},r=[];o._withStripped=!0;var i=n("3156"),a=n.n(i),l=(n("7514"),n("278c")),c=n.n(l),d=(n("ac6a"),n("551c"),n("96cf"),n("c973")),u=n.n(d),s=n("2f62"),p=n("f490"),m=n("676b"),f=n("cda9"),b=n("998d"),h=n("7266"),y=n("a62b"),v=n("b5ae"),g=n("44de"),$=n("05d8"),q=n("e499"),F=n.n(q),x={name:"Product Low",mixins:[h["a"],g["a"],m["a"],b["a"],f["a"],y["a"],$["a"]],data:function(){return{productAll:[],addProductCheck:!1,poProductTable:[],formAction2:null,filterProduct:"",formModal2:!1,pagination:{sortBy:"index",descending:!1},columns:[{name:".key",label:this.$t("ID"),field:".key",sortable:!0,align:"left"},{name:"index",label:this.$t("Index"),field:"index",sortable:!0,sort:function(t,e){return parseInt(t,10)-parseInt(e,10)},align:"left"},{name:"code",label:this.$t("Code"),field:"code",sortable:!0,align:"left"},{name:"description",label:this.$t("Description"),field:"description",sortable:!1,align:"left"},{name:"qty",label:this.$t("Qty"),field:"qty",sortable:!1,align:"left"},{name:"createdBy",label:this.$t("Created by"),field:"createdBy",sortable:!1,align:"left"}],columnsProduct:[{name:"id",label:this.$t("ID"),field:"id",sortable:!0,align:"left"},{name:"index",label:this.$t("index"),field:"ss",sortable:!0,align:"left"},{name:"productType",label:this.$t("productType"),field:"productType",sortable:!0,sort:function(t,e){return parseInt(t,10)-parseInt(e,10)},align:"left"},{name:"product",label:this.$t("Product"),field:"product",sortable:!0,align:"left"},{name:"qty",label:this.$t("Qty"),field:"qty",sortable:!0,align:"left"},{name:"price",label:this.$t("Price/Unit"),field:"price",sortable:!0,align:"left"},{name:"action",label:this.$t("Action"),field:"action",sortable:!0,align:"left"}],visibleColumnsProduct:["index","productType","product","qty","price","action"],visibleColumns:["index","code","description","qty"],inputForm:{".key":null,index:null,code:null,stockType:null,supplier:null,productType:null,description:null,qty:null,createdBy:this.userId,approval:"waiting",createdOn:new Date,modifiedBy:this.userId,modifiedOn:new Date,totalPrice:0},productForm:{productType:null,product:null,qty:0},json_fields:{Code:"code",Description:"description"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]}},validations:{inputForm:{index:{required:v["required"],numeric:v["numeric"]},code:{required:v["required"]},supplier:{required:v["required"]},stockType:{required:v["required"]}},productForm:{productType:{required:v["required"]},product:{required:v["required"]},qty:{required:v["required"],numeric:v["numeric"]}}},firestore:function(){return{product:this.$database.collection("product").where("qty","<=",4),po:this.$database.collection("po")}},methods:{addForm:function(){var t=u()(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,n="",e.inputForm.createdBy=e.inputForm.modifiedBy=e.userId,e.inputForm.createdOn=e.inputForm.modifiedOn=new Date,"approval"===e.inputForm.approval&&e.formAction,t.next=7,e.addProductProcess(e.$firestore.po,e.inputForm,e.$v.inputForm);case 7:n=t.sent,console.log(n);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),openAddFormModel:function(t){var e=this;e.subHeading=e.$t("Add"),e.formAction="add",e.initialInputFormModel(),e.initialProductForm(),e.poProductTable=[],e.formModal=!0},initialInputFormModel:function(){var t=this;t.addProductCheck=!1,t.initialProductForm(),t.inputForm[".key"]=null,t.inputForm.index=null,t.inputForm.code=null,t.inputForm.stockType=null,t.inputForm.supplier=null,t.inputForm.description=null,t.inputForm.qty=null,t.inputForm.createdBy=this.userId,t.inputForm.approval="waiting",t.inputForm.createdOn=new Date,t.inputForm.modifiedBy=this.userId,t.inputForm.modifiedOn=new Date,t.inputForm.totalPrice=0},initialProductForm:function(){var t=this;t.productForm[".key"]=null,t.productForm.product=null,t.productForm.productType=null,t.poId=null},getPo:function(){var t=this,e=[];return new Promise(function(n){t.$database.collection("po").get().then(function(t){return console.log(t),t.forEach(function(t){e.push({id:t.id,approval:t.data().approval,data:t.data()})}),console.log(e),n(e)})})},getPoProduct:function(t){var e=this;return new Promise(function(n){var o=e,r=1;if(o.poProductTable=[],console.log(o.selected.length),"update"===o.formAction||o.selected.length>0)return o.$database.collection("poProduct").where("poId","==",t).get().then(function(t){return console.log(t),t.forEach(function(t){o.poProductTable.push({id:t.id,data:t.data(),index:r,product:t.data().product,productType:t.data().productType,qty:t.data().qty,poId:t.data().poId}),r++}),n(o.poProductTable)}).catch(function(t){console.log(t)}),n(o.poProductTable)})},addProductProcess:function(t,e,n){var o=this;return new Promise(function(r){var i=o;if(n.$invalid)i.$q.notify({message:i.$t("Form validation error"),type:"nagative",icon:"error_outline"});else{var a={};for(var l in e)".key"!==l&&e.hasOwnProperty(l)&&(a[l]=e[l]);t.add(a).then(function(n){i.loadingState(t).then(function(t){var o=c()(t,2);return i.collectionSize=o[0],i.loading=o[1],i.poProductTable.forEach(function(t){i.$database.collection("poProduct").add({product:t.product,productType:t.productType,qty:t.qty,poId:n.id})}),i.formModal=!1,i.initialInputForm(e),i.$q.notify({message:i.$t("Form submitted successfully"),type:"positive",icon:"info"}),r(n.id)})}).catch(function(t){return i.$q.notify({message:i.$t("Error writing document"),type:"nagative",icon:"error_outline"}),console.error("Error writing document: ",t),r("")})}})},addProductForm:function(){var t=u()(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,n="","update"!==e.formAction){t.next=10;break}return e.productForm.poId=e.inputForm[".key"],t.next=6,e.addProcessProduct(e.$firestore.poProduct,e.productForm,e.$v.productForm);case 6:n=t.sent,console.log(n),t.next=11;break;case 10:e.poProductTable.push({id:"222",product:e.productForm.product,productType:e.productForm.productType,qty:e.productForm.qty});case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),addProcessProduct:function(t,e,n){var o=this;return new Promise(function(r){var i=o;if(n.$invalid)i.$q.notify({message:i.$t("Form validation error"),type:"nagative",icon:"error_outline"});else{var a={};for(var l in e)".key"!==l&&e.hasOwnProperty(l)&&(a[l]=e[l]);t.add(a).then(function(n){i.loadingState(t).then(function(t){var o=c()(t,2);return i.collectionSize=o[0],i.loading=o[1],i.initialProductForm(e),i.getPoProduct(i.inputForm[".key"]),i.$q.notify({message:i.$t("Form submitted successfully"),type:"positive",icon:"info"}),r(n.id)})}).catch(function(t){return i.$q.notify({message:i.$t("Error writing document"),type:"nagative",icon:"error_outline"}),console.error("Error writing document: ",t),r("")})}})},updateForm:function(){var t=u()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,e.inputForm.modifiedBy=e.userId,e.inputForm.modifiedOn=new Date,t.next=5,e.updateProcess(e.$firestore.po,e.inputForm,e.$v.inputForm);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),deleteRow:function(){var t=u()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.deleteProcess(e.selected,e.$firestore.po);case 3:e.selected=[];case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getProductList:function(t){var e=this,n=[];return new Promise(function(o){e.$database.collection("poProduct").where("poId","==",t).get().then(function(t){return console.log(t),t.forEach(function(t){n.push({id:t.id,product:t.data().product,data:t.data(),qty:t.data().qty})}),console.log(n),o(n)})})},addProduct:function(){this.addProductCheck=!0},hideProduct:function(){this.addProductCheck=!1},getProduct:function(){var t=this,e=[];return new Promise(function(n){t.$database.collection("product").get().then(function(t){return console.log(t),t.forEach(function(t){e.push({id:t.id,price:t.data().buyIn,data:t.data()})}),console.log(e),n(e)})})},printReport:function(){var t=u()(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,n=[],e.$q.loading.show(),t.next=5,e.getReportData();case 5:n=t.sent,e.$q.loading.hide(),F.a.createPdf(this.slipDocDefinition(n)).open();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),slipDocDefinition:function(t){var e={pageSize:"A4",pageOrientation:"portrait",defaultStyle:{font:"THSarabun"},content:[t],styles:{title:{fontSize:24,bold:!0,margin:[5,5,5,5]},header:{fontSize:16,bold:!0,margin:[5,5,5,5]},subheader:{fontSize:14,bold:!0,margin:[5,5,5,5]},tableHeader:{fontSize:14,bold:!0,fillColor:"#dddddd",margin:[5,5,5,5]},body:{fontSize:14,bold:!0,margin:[5,5,5,5]},body1:{fontSize:14,bold:!0,fillColor:"#dddddd",margin:[5,5,5,5]},body2:{fontSize:14,bold:!0,fillColor:"#c0c0c0",margin:[5,5,5,5]},alignRight:{alignment:"right"},alignRightUnderline:{alignment:"right",bold:!0}}};return e},getReportData:function(){var t=u()(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getProductList(this.inputForm[".key"]);case 2:return e=t.sent,t.abrupt("return",new Promise(function(t){var o=n;console.log(o.stockTypeOptions);var r=[],i=[];o.$database.collection("po").doc(o.inputForm[".key"]).get().then(function(n){i.push([o.$t("ลำดับที่"),o.$t("ชื่อสินค้า"),o.$t("จำนวน"),o.$t("ราคาต่อหน่วย"),o.$t("รวม")]);var a=1,l=0,c=0;e.forEach(function(t){c=o._.find(o.productOptions,{id:t.product}).data.buyIn,l+=o._.find(o.productOptions,{id:t.product}).data.buyIn*t.qty,i.push([{text:a,alignment:"center",border:[!0,!1,!0,!1]},{text:"".concat(o._.find(o.productOptions,{id:t.product}).data.description),alignment:"left",border:[!0,!1,!0,!1]},{text:"".concat(t.qty),alignment:"center",border:[!0,!1,!0,!1]},{text:"".concat(c.toLocaleString(void 0,{minimumFractionDigits:2})),alignment:"right",border:[!0,!1,!0,!1]},{text:"".concat(c*t.qty),alignment:"center",border:[!0,!1,!0,!1]}]),a++});for(var d=0;d<39;d++)i.push([{text:"",alignment:"left",border:[!0,!1,!0,!1]},{text:"",alignment:"left",border:[!0,!1,!0,!1]},{text:"",alignment:"left",border:[!0,!1,!0,!1]},{text:"",alignment:"left",border:[!0,!1,!0,!1]},{text:"",alignment:"left",border:[!0,!1,!0,!1]}]);i.push([{text:"หมายเหตุ\n"+n.data().description,alignment:"center",colSpan:2,rowSpan:2},{text:"",alignment:"left"},{text:"รวมเป็นเงิน",alignment:"center",colSpan:2},{text:"",alignment:"left"},{text:"".concat(l.toLocaleString(void 0,{minimumFractionDigits:2})),alignment:"right"}],[{text:"",alignment:"center"},{text:"",alignment:"left"},{text:"ภาษี 7%",alignment:"center",colSpan:2},{text:"",alignment:"left"},{text:"".concat((.07*l).toLocaleString(void 0,{minimumFractionDigits:2})),alignment:"right"}],[{text:"("+o.$ThaiBaht(1.07*l)+")",colSpan:2,alignment:"center"},{text:"",alignment:"left"},{text:"รวมเป็นเงินสุทธิ",alignment:"center",colSpan:2},{text:"",alignment:"left"},{text:"".concat((1.07*l).toLocaleString(void 0,{minimumFractionDigits:2})),alignment:"right"}]),r.push({text:"".concat(o.applicationName),style:"header",alignment:"center"}),r.push({text:"ใบสั่งซื้อ",style:"header",alignment:"center"});var u=o._.find(o.supplierOptions,{id:n.data().supplier}),s=o._.find(o.authUserOptions,{id:n.data().createdBy}).label;return r.push([{text:"วันที่ทำรายการ: "+p["d"].formatDate(n.data().createdOn,"DD/MM/YYYY"),fontSize:16,alignment:"right"}],[{text:"เลขที่ใบคำสั่งซื้อ: "+n.data().code,fontSize:16,alignment:"right"}],[{text:"ชื่อผู้ทำรายการ: "+s,fontSize:16,alignment:"left"}],[{text:"ชื่อผู้ขาย: "+u.data.suppName,fontSize:16,alignment:"left"}],[{text:"ที่อยู่: "+u.data.suppAddress,fontSize:16,alignment:"left"}],[{text:"\n รายการสินค้า",fontSize:16,alignment:"center"}]),r.push({table:{headerRows:1,widths:[30,280,50,50,50],body:i}}),r.push([{text:"หมายเหต",fontSize:16,bold:!0,alignment:"left"}],[{text:"1). โปรดระบุใบสั่งซื้อข้างต้นในใบสั่งของทุกฉบับ",fontSize:16,alignment:"left"}],[{text:"2). การวางบิลและรับเช็ค เป็นไปตามที่บริษัทกำหนดไว้                                               ___________________",fontSize:16,alignment:"left"}],[{text:"3). ในการวางบิลเพื่อเรียกเก็บ ให้แนบสำเนาใบสั่งซื้อกำกับมาด้วย                                         ผู้มีอำนาจลงนาม",fontSize:16,alignment:"left"}]),t(r)})}));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},created:function(){var t=u()(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadingState(this.$firestore.product);case 2:e=t.sent,n=c()(e,2),this.collectionSize=n[0],this.loading=n[1],this.initialInputForm(this.inputForm);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:a()({},Object(s["c"])(["userId"]))},k=x,_=(n("c9c1"),n("2877")),w=Object(_["a"])(k,o,r,!1,null,null,null);w.options.__file="index.vue";e["default"]=w.exports},"998d":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},r=[];o._withStripped=!0;n("ac6a");var i={data:function(){return{supplierOptions:[]}},created:function(){var t=this;t.$database.collection("supplier").get().then(function(e){e.forEach(function(e){t.supplierOptions.push({id:e.id,data:e.data(),code:e.data().code,value:e.id,label:"".concat(e.data().suppName)})})})}},a=i,l=n("2877"),c=Object(l["a"])(a,o,r,!1,null,null,null);c.options.__file="supplierOptions.vue";e["a"]=c.exports},a62b:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},r=[];o._withStripped=!0;n("ac6a");var i={data:function(){return{productTypeOptions:[]}},created:function(){var t=this;t.$database.collection("productType").orderBy("index").get().then(function(e){e.forEach(function(e){t.productTypeOptions.push({id:e.id,data:e.data(),code:e.data().code,value:e.id,label:"".concat(e.data().code)})})})}},a=i,l=n("2877"),c=Object(l["a"])(a,o,r,!1,null,null,null);c.options.__file="productTypeOptions.vue";e["a"]=c.exports},c9c1:function(t,e,n){"use strict";var o=n("0804"),r=n.n(o);r.a},cda9:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},r=[];o._withStripped=!0;n("ac6a");var i={data:function(){return{productOptions:[]}},created:function(){var t=this;t.$database.collection("product").orderBy("index").get().then(function(e){e.forEach(function(e){t.productOptions.push({id:e.id,data:e.data(),code:e.data().code,value:e.id,label:"".concat(e.data().description)})})})}},a=i,l=n("2877"),c=Object(l["a"])(a,o,r,!1,null,null,null);c.options.__file="productOptions.vue";e["a"]=c.exports}}]);