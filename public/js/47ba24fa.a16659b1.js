(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["47ba24fa"],{"0977":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("q-card",[a("q-card-main",[a("q-field",{attrs:{label:e.$t("ID"),"label-width":e.labelWidth}},[a("q-input",{attrs:{disable:""},model:{value:e.inputForm[".key"],callback:function(t){e.$set(e.inputForm,".key",t)},expression:"inputForm['.key']"}})],1),a("q-field",{attrs:{label:e.$t("Employee ID")+" *","label-width":e.labelWidth,error:e.$v.inputForm.employeeid.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-input",{attrs:{disable:!e.hasPermission(["personnel--employee-management--update"])},on:{blur:function(t){e.$v.inputForm.employeeid.$touch()}},model:{value:e.inputForm.employeeid,callback:function(t){e.$set(e.inputForm,"employeeid",t)},expression:"inputForm.employeeid"}})],1),a("q-field",{attrs:{label:e.$t("Join date")+" *","label-width":e.labelWidth,error:e.$v.inputForm.joinDate.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-datetime",{attrs:{type:"date",disable:!e.hasPermission(["personnel--employee-management--update"])},on:{blur:function(t){e.$v.inputForm.joinDate.$touch()}},model:{value:e.inputForm.joinDate,callback:function(t){e.$set(e.inputForm,"joinDate",t)},expression:"inputForm.joinDate"}})],1),a("q-field",{attrs:{label:e.$t("Employment status")+" *","label-width":e.labelWidth,error:e.$v.inputForm.employmentStatus.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-select",{attrs:{disable:!e.hasPermission(["personnel--employee-management--update"]),options:e.employmentStatusOptions},model:{value:e.inputForm.employmentStatus,callback:function(t){e.$set(e.inputForm,"employmentStatus",t)},expression:"inputForm.employmentStatus"}})],1),a("q-field",{attrs:{label:e.$t("Employee pay type")+" *","label-width":e.labelWidth,error:e.$v.inputForm.employeePayType.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-select",{attrs:{disable:!e.hasPermission(["personnel--employee-management--update"]),options:e.PayTypeOptions},model:{value:e.inputForm.employeePayType,callback:function(t){e.$set(e.inputForm,"employeePayType",t)},expression:"inputForm.employeePayType"}})],1),a("q-field",{attrs:{label:e.$t("Ordinary Wage")+" *","label-width":e.labelWidth,error:e.$v.inputForm.wage.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-input",{attrs:{type:"number",disable:!e.hasPermission(["personnel--employee-management--update"]),error:e.$v.inputForm.wage.$error,"error-label":e.$t("Requires non-empty data")},model:{value:e.inputForm.wage,callback:function(t){e.$set(e.inputForm,"wage",t)},expression:"inputForm.wage"}})],1),a("q-field",{attrs:{label:e.additionalWageLabel("additionalWage1","101")+" *","label-width":e.labelWidth,error:e.$v.inputForm.additionalWage1.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-input",{attrs:{type:"number",disable:!e.hasPermission(["personnel--employee-management--update"]),error:e.$v.inputForm.additionalWage1.$error,"error-label":e.$t("Requires non-empty data")},model:{value:e.inputForm.additionalWage1,callback:function(t){e.$set(e.inputForm,"additionalWage1",t)},expression:"inputForm.additionalWage1"}})],1),a("q-field",{attrs:{label:e.additionalWageLabel("additionalWage2","102")+" *","label-width":e.labelWidth,error:e.$v.inputForm.additionalWage2.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-input",{attrs:{type:"number",disable:!e.hasPermission(["personnel--employee-management--update"]),error:e.$v.inputForm.additionalWage2.$error,"error-label":e.$t("Requires non-empty data")},model:{value:e.inputForm.additionalWage2,callback:function(t){e.$set(e.inputForm,"additionalWage2",t)},expression:"inputForm.additionalWage2"}})],1),a("q-field",{attrs:{label:e.additionalWageLabel("additionalWage3","103")+" *","label-width":e.labelWidth,error:e.$v.inputForm.additionalWage3.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-input",{attrs:{type:"number",disable:!e.hasPermission(["personnel--employee-management--update"]),error:e.$v.inputForm.additionalWage3.$error,"error-label":e.$t("Requires non-empty data")},model:{value:e.inputForm.additionalWage3,callback:function(t){e.$set(e.inputForm,"additionalWage3",t)},expression:"inputForm.additionalWage3"}})],1),a("q-field",{attrs:{label:e.$t("Income tax rate")+" *","label-width":e.labelWidth,error:e.$v.inputForm.incomeTaxRate.$error,"error-label":e.$t("Requires non-empty data")}},[a("q-slider",{attrs:{min:0,max:20,step:1,"label-always":"","label-value":e.inputForm.incomeTaxRate+" %",markers:"",snap:""},model:{value:e.inputForm.incomeTaxRate,callback:function(t){e.$set(e.inputForm,"incomeTaxRate",t)},expression:"inputForm.incomeTaxRate"}})],1),a("q-field",{attrs:{label:e.$t("Bank account"),"label-width":e.labelWidth}},[a("q-input",{attrs:{disable:!e.hasPermission(["personnel--employee-management--update"])},model:{value:e.inputForm.bankAccount,callback:function(t){e.$set(e.inputForm,"bankAccount",t)},expression:"inputForm.bankAccount"}})],1),a("div",{staticClass:"submit"},[a("q-btn",{staticClass:"q-mr-sm",attrs:{color:"primary",icon:"save","wait-for-ripple":"",disable:e.$v.inputForm.$invalid,label:e.$t("Save")},on:{click:e.addForm}})],1)],1)],1)],1)},n=[];r._withStripped=!0;var i=a("3156"),o=a.n(i),l=(a("7514"),a("ac6a"),a("96cf"),a("c973")),u=a.n(l),d=a("2f62"),s=a("b5ae"),m=a("7e05"),p=a("fe5b"),c=a("44de"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},f=[];b._withStripped=!0;var y={data:function(){return{employmentStatusOptions:[]}},created:function(){var e=this;e.$database.collection("employmentStatus").get().then(function(t){t.forEach(function(t){e.employmentStatusOptions.push({id:t.id,data:t.data(),value:t.id,label:"".concat(t.data().status),model:!1})})})}},h=y,$=a("2877"),F=Object($["a"])(h,b,f,!1,null,null,null);F.options.__file="employmentStatusOptions.vue";var v=F.exports,g=a("7266"),q=a("05d8"),w={name:"official",mixins:[m["a"],p["a"],c["a"],v,g["a"],q["a"]],data:function(){return{formAction:"",subMenu:this.$t("Official"),inputForm:{".key":null,employeeid:"",employmentStatus:"",employeePayType:"",wage:0,additionalWage1:0,additionalWage2:0,additionalWage3:0,incomeTaxRate:0,joinDate:new Date,bankAccount:"",createdBy:this.userId,createdOn:new Date,modifiedBy:this.userId,modifiedOn:new Date,authUser:this.userId},PayTypeOptions:[{label:this.$t("Hourly"),value:"hourly"},{label:this.$t("Daily"),value:"daily"},{label:this.$t("Monthly"),value:"salary"}]}},validations:{inputForm:{employeeid:{required:s["required"]},employmentStatus:{required:s["required"]},employeePayType:{required:s["required"]},wage:{required:s["required"],numeric:s["numeric"]},additionalWage1:{required:s["required"],numeric:s["numeric"]},additionalWage2:{required:s["required"],numeric:s["numeric"]},additionalWage3:{required:s["required"],numeric:s["numeric"]},incomeTaxRate:{required:s["required"],numeric:s["numeric"]},joinDate:{required:s["required"]}}},firestore:function(){return{official:this.$database.collection("official")}},methods:{addForm:function(){var e=u()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!t.inputForm[".key"]){e.next=9;break}return t.inputForm.modifiedBy=t.userId,t.inputForm.modifiedOn=new Date,t.inputForm.authUser=t.$route.params.id,e.next=7,t.updateProcess(t.$firestore.official,t.inputForm,t.$v.inputForm);case 7:e.next=14;break;case 9:return t.inputForm.createdBy=t.inputForm.modifiedBy=t.userId,t.inputForm.createdOn=t.inputForm.modifiedOn=new Date,t.inputForm.authUser=t.$route.params.id,e.next=14,t.addProcess(t.$firestore.official,t.inputForm,t.$v.inputForm);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),openUpdateFrom:function(){var e=this;e.formAction="update",this.$q.loading.show(),e.$database.collection("official").where("authUser","==",e.$route.params.id).get().then(function(t){t.forEach(function(t){e.inputForm={".key":t.id,employeeid:t.data().employeeid,employmentStatus:t.data().employmentStatus,employeePayType:t.data().employeePayType,wage:t.data().wage,additionalWage1:t.data().additionalWage1,additionalWage2:t.data().additionalWage2,additionalWage3:t.data().additionalWage3,incomeTaxRate:t.data().incomeTaxRate,joinDate:t.data().joinDate,bankAccount:t.data().bankAccount}}),e.$q.loading.hide()})},additionalWageLabel:function(e,t){var a=this,r=e,n=a._.find(a.accountCodeOptions,{code:t});return a._.isUndefined(n)||(r=n["label"]),r}},created:function(){var e=u()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("updateSubMenu",this.subMenu),this.openUpdateFrom();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),computed:o()({},Object(d["c"])(["userId"])),watch:{}},W=w,x=(a("4056"),Object($["a"])(W,r,n,!1,null,null,null));x.options.__file="official.vue";t["default"]=x.exports},4056:function(e,t,a){"use strict";var r=a("e30f"),n=a.n(r);n.a},e30f:function(e,t,a){},fe5b:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},n=[];r._withStripped=!0;a("96cf");var i=a("c973"),o=a.n(i),l=(a("ac6a"),a("551c"),{data:function(){return{authUserOptions:[]}},methods:{getAuthUserOptions:function(){var e=this;return new Promise(function(t){var a=e,r=[];a.$database.collection("authUser").where("active","==",!0).orderBy("firstName").get().then(function(e){return e.forEach(function(e){r.push({id:e.id,data:e.data(),department:e.data().department,reportTo:e.data().reportTo,photo:e.data().photo,value:e.id,label:"".concat(e.data().firstName," ").concat(e.data().lastName),model:!1})}),t(r)}).catch(function(e){console.log(e)})})}},created:function(){var e=o()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.getAuthUserOptions();case 3:t.authUserOptions=e.sent;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}),u=l,d=a("2877"),s=Object(d["a"])(u,r,n,!1,null,null,null);s.options.__file="authUserOptions.vue";t["a"]=s.exports}}]);